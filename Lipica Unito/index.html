<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lipica Unito - Timeless Stone</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            --header-bg: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            --section-bg: #ffffff;
            --text-primary: #2c2c2c;
            --text-secondary: #495057;
            --text-light: #6c757d;
            --spacing-xs: 10px;
            --spacing-sm: 15px;
            --spacing-md: 20px;
            --spacing-lg: 30px;
            --spacing-xl: 40px;
            --spacing-xxl: 50px;
            --spacing-xxxl: 60px;
            --border-radius: 15px;
            --shadow-sm: 0 5px 15px rgba(0,0,0,0.05);
            --shadow-md: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-lg: 0 20px 60px rgba(0,0,0,0.08);
            font-size: 16px; /* Base font size for mobile */
        }

        @media (min-width: 768px) {
            :root {
                font-size: 18px; /* Larger base font size for desktop */
            }
        }

        body {
            font-family: 'Libre Baskerville', serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--primary-bg);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            width: 100%;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            max-width: 100%;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 90%;
                padding: 0 var(--spacing-lg);
            }
        }
        
        @media (min-width: 1200px) {
            .container {
                max-width: 1200px;
                padding: 0 var(--spacing-xl);
            }
        }

        header {
            background: var(--header-bg);
            color: white;
            padding: 50px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="%23ffffff" opacity="0.1"/><circle cx="80" cy="40" r="0.5" fill="%23ffffff" opacity="0.1"/><circle cx="40" cy="80" r="0.8" fill="%23ffffff" opacity="0.1"/></svg>') repeat;
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: var(--spacing-md);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            font-style: italic;
            position: relative;
            z-index: 1;
            padding: 0 var(--spacing-md);
        }
        
        @media (min-width: 768px) {
            header {
                padding: 80px 0;
            }
            
            h1 {
                font-size: 4rem;
                letter-spacing: 3px;
            }
            
            .subtitle {
                font-size: 1.3rem;
            }
        }

        main {
            padding: 40px 0;
        }

        .intro {
            text-align: center;
            margin-bottom: 50px;
            padding: 30px var(--spacing-md);
            background: var(--section-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
        }

        .intro p {
            font-size: 1.1rem;
            margin: 0 auto;
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        @media (min-width: 768px) {
            main {
                padding: 60px 0;
            }
            
            .intro {
                margin-bottom: 80px;
                padding: 50px;
            }
            
            .intro p {
                font-size: 1.4rem;
                max-width: 800px;
                line-height: 1.8;
            }
        }

        .section {
            margin-bottom: 50px;
            background: var(--section-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-3px);
        }

        .section-header {
            padding: 30px var(--spacing-md) 20px;
            background: var(--primary-bg);
            border-bottom: 1px solid #dee2e6;
        }

        .section h2 {
            font-size: 1.8rem;
            font-weight: 300;
            color: #343a40;
            margin-bottom: var(--spacing-md);
            letter-spacing: 1px;
        }

        .section-content {
            padding: var(--spacing-lg) var(--spacing-md);
        }

        .section p {
            font-size: 1rem;
            margin-bottom: var(--spacing-md);
            color: var(--text-secondary);
        }
        
        @media (min-width: 768px) {
            .section {
                margin-bottom: 80px;
            }
            
            .section-header {
                padding: 50px 50px 30px;
            }
            
            .section h2 {
                font-size: 2.5rem;
            }
            
            .section-content {
                padding: 50px;
            }
            
            .section p {
                font-size: 1.2rem;
                margin-bottom: 30px;
            }
        }
        
        @media (min-width: 1024px) {
            .section {
                margin-bottom: 120px;
            }
        }

        .birthplace-images {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }
        
        @media (min-width: 768px) {
            .birthplace-images {
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                margin: 50px 0;
            }
        }

        .image-placeholder {
            aspect-ratio: 16/10;
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            min-height: 180px; /* Ensure minimum height on mobile */
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight on mobile */
        }

        .image-placeholder:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
        }

        .image-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .image-placeholder:hover::before {
            transform: translateX(100%);
        }

        .placeholder-text {
            color: white;
            font-size: 1.1rem;
            font-style: italic;
            text-align: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .tales {
            display: grid;
            gap: var(--spacing-xl);
        }

        .tale {
            padding: var(--spacing-md);
            background: #f8f9fa;
            border-radius: var(--border-radius);
            border-left: 5px solid #6c757d;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .tales {
                gap: var(--spacing-xxxl);
            }
            
            .tale {
                padding: 40px;
            }
        }
        
        .tale h3 {
            margin-bottom: var(--spacing-md);
            text-align: left;
        }
        
        @media (min-width: 1024px) {
            .tale {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: var(--spacing-xs) var(--spacing-xl);
                align-items: center;
            }
            
            .tale-content {
                grid-column: 1;
                text-align: left;
            }
            
            .tale-image-container {
                grid-column: 2;
            }
        }

        .tale h3 {
            font-size: 1.4rem;
            color: #343a40;
            margin-bottom: var(--spacing-md);
            font-weight: 400;
            grid-column: span 2;
        }

        .tale p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 0px;
        }
        
        @media (min-width: 768px) {
            .tale h3 {
                font-size: 1.8rem;
                margin-bottom: 25px;
            }
            
            .tale p {
                font-size: 1.1rem;
                line-height: 1.8;
            }
        }

        .tale-image-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .tale-image {
            margin: 30px 0;
            aspect-ratio: 16/9;
            width: 100%;
        }
        
        @media (min-width: 1024px) {
            .tale-image {
                margin: 0;
            }
        }
        
        .tale-image-actual {
            position: relative;
            aspect-ratio: 16/9;
            width: 100%;
            margin: 30px 0;
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .tale-image-actual:hover {
            transform: scale(1.02);
        }
        
        .tale-preview-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0));
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .tale-image-actual:hover .image-overlay {
            transform: translateY(0);
        }
        
        @media (min-width: 1024px) {
            .tale-image-actual {
                margin: 0;
            }
        }

        .projects {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
        }
        
        @media (min-width: 640px) {
            .projects {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 30px;
            }
        }
        
        @media (min-width: 1024px) {
            .projects {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 40px;
            }
        }

        .project {
            background: #f8f9fa;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            transition: all 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .project {
                padding: 30px;
            }
        }

        .project:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .project h3 {
            font-size: 1.3rem;
            color: #343a40;
            margin-bottom: var(--spacing-md);
            font-weight: 400;
        }
        
        @media (min-width: 768px) {
            .project h3 {
                font-size: 1.5rem;
            }
        }

        .project-image {
            margin: 20px 0;
            aspect-ratio: 16/10;
        }

        .fullscreen-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .fullscreen-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            width: 95vw;
            max-width: 1200px;
            max-height: 95vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }
        
        .fullscreen-image-container {
            margin: 30px 0;
            text-align: center;
            max-height: 60vh;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fullscreen-image {
            max-width: 100%;
            max-height: 60vh;
            object-fit: contain;
            border-radius: var(--border-radius);
        }
        
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            font-size: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .gallery-nav:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-50%) scale(1.1);
        }
        
        .gallery-prev {
            left: 20px;
        }
        
        .gallery-next {
            right: 20px;
        }
        
        .gallery-counter {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
        }
        
        .fullscreen-description {
            margin-top: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-secondary);
            text-align: center;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.8rem;
            color: #6c757d;
            cursor: pointer;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight on mobile */
        }
        
        @media (min-width: 768px) {
            .close-btn {
                top: 20px;
                right: 30px;
                font-size: 2rem;
            }
        }

        .close-btn:hover {
            background: #e9ecef;
            transform: rotate(90deg);
        }

        footer {
            background: #343a40;
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: 50px;
        }
        
        @media (min-width: 768px) {
            footer {
                padding: 60px 0;
                margin-top: 80px;
            }
        }

        footer p {
            font-size: 1.1rem;
            opacity: 0.8;
        }

        /* Additional mobile optimizations */
        @media (max-width: 480px) {
            :root {
                --spacing-md: 15px;
                --spacing-lg: 25px;
            }
            
            .section-content, .section-header {
                padding: var(--spacing-md);
            }
            
            .tale {
                padding: var(--spacing-md);
            }
            
            .project {
                padding: var(--spacing-md);
            }
            
            .image-placeholder {
                min-height: 150px;
            }
            
            .placeholder-text {
                font-size: 0.9rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .section h2 {
                font-size: 1.6rem;
            }
            
            .intro p {
                font-size: 1rem;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) {
            .section:hover {
                transform: none;
            }
            
            .project:hover {
                transform: none;
            }
            
            .image-placeholder:active {
                transform: scale(0.98);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Lipica Unito</h1>
            <p class="subtitle">Timeless Stone from the Karst Plateau</p>
        </div>
    </header>

    <main>
        <div class="container">
            <section class="intro">
                <p>Over 85 million years during the Cretaceous period, under clear waters from tiny shells and bones from countless sea creatures and sands pressed together to form a special rock called <strong>Lipica Unito</strong>. This smooth gray limestone from the Karst region is known for tiny fossil bits that catch the light, giving it a soft shimmer.</p>
            </section>

            <section class="section">
                <div class="section-header">
                    <h2>The Birthplace</h2>
                </div>
                <div class="section-content">
                    <p>Lipica Unito—and its flowery-patterned sister, Lipica Fiorito—come from the same rocky home: the Karst plateau near the village of Lipica in southwest Slovenia. For hundreds of years, quarry workers followed its grey stripes in small, open pits.</p>
                    
                    <div class="birthplace-images">
                        <div class="tale-image-actual" onclick="openFullscreen('Surface Quarry', 'Historic open-pit quarry where Lipica Unito was first extracted, showing the natural grey stripes of limestone layers against the Karst landscape.')">
                            <img src="media/surface_quarry1.png" alt="Surface Quarry" class="tale-preview-image">
                            <div class="image-overlay">
                                <div class="placeholder-text">Surface Quarry<br><small>Historic Open-Pit Extraction</small></div>
                            </div>
                        </div>
                        <div class="tale-image-actual" onclick="openFullscreen('Lipica II Underground', 'Modern underground Lipica II quarry - a stone cathedral 50 meters below surface where diamond-wire saws cut perfect 20-tonne blocks.')">
                            <img src="media/lipica_II_1.png" alt="Lipica II Underground" class="tale-preview-image">
                            <div class="image-overlay">
                                <div class="placeholder-text">Lipica II Underground<br><small>Modern Stone Cathedral</small></div>
                            </div>
                        </div>
                    </div>
                    
                    <p>In 1986 the work moved below ground when Marmor Sežana opened the Lipica II quarry, a hidden "stone cathedral" sitting 50 m under the surface. Diamond-wire saws cut perfect 20-tonne blocks while the land above stays almost untouched.</p>
                    
                    <p>Whether taken from the sunny pits or Lipica II's cool echoing halls, every piece of Lipica Unito shows the plateau's silver-grey colour sprinkled with tiny fossils, linking today's buildings to a stoneworking story that stretches across centuries and over 80 years of modern extraction.</p>
                </div>
            </section>

            <section class="section">
                <div class="section-header">
                    <h2>Three True Tales of Lipica Unito</h2>
                </div>
                <div class="section-content">
                    <div class="tales">
                        <div class="tale">
                            <h3>1. The Imperial Stud Farm (1580)</h3>
                            <div class="tale-content">
                                <p>When Archduke Charles II chose the windy Karst plateau for his new Lipica Stud Farm, he built the stables and manor from the grey limestone lying beneath the horses' hooves. Local masons shaped Lipica Unito into cool, thick walls that stayed refreshingly chill in summer and snug in the bora gales of winter. Grooms swear that running a hand across the fossil-flecked doorframes still brings good luck before a dressage show—proof that stone and stallion share the same calm spirit.</p>
                            </div>
                            <div class="tale-image-container">
                                <div class="tale-image-actual" onclick="openFullscreen('Imperial Stud Farm', 'The historic Lipica Stud Farm built from local limestone, with thick walls that stay cool in summer and warm in winter, where Lipizzaner horses have been bred for centuries.')">
                                    <img src="media/stud_farm1.png" alt="Imperial Stud Farm Architecture" class="tale-preview-image">
                                    <div class="image-overlay">
                                        <div class="placeholder-text">Imperial Stud Farm Architecture<br><small>Lipizzaner Horse Stables in Stone</small></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tale">
                            <h3>2. Rails to Ringstrasse (1857-1918)</h3>
                            <div class="tale-content">
                                <p>The 1857 Trieste–Vienna railway turned Karst quarries into express suppliers for the booming Habsburg capital. Wagon-loads of Lipica Unito rattled north each night, destined for the grand Ringstrasse. There, architects tucked the silver-grey blocks into façades and window tracery of the new Votive Church and surrounding townhouses. Decades later, geologist Alois Kieslinger traced the stone's fossil patterns and confirmed its origin. Modern restorers still order fresh Unito from the same quarry because the century-old carvings have out-weathered neighboring sandstones—testament to a limestone that travels well and ages even better.</p>
                            </div>
                            <div class="tale-image-container">
                                <div class="tale-image-actual" onclick="openFullscreen('Vienna Ringstrasse', 'Grand Habsburg architecture along Vienna\'s Ringstrasse featuring Lipica Unito limestone in façades and window tracery of the Votive Church and surrounding townhouses.')">
                                    <img src="media/votive_church1.png" alt="Votiv Church Architecture" class="tale-preview-image">
                                    <div class="image-overlay">
                                        <div class="placeholder-text">Votiv Church Architecture<br><small>Habsburg Capital Stone Legacy</small></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tale">
                            <h3>3. A Skyscraper Takes Flight (1933)</h3>
                            <div class="tale-content">
                                <p>Ljubljana's Nebotičnik rose 70 m, daringly modern for its time. Yet its architects grounded the tower in tradition, lining every lift lobby and the shimmer of the entrance floor with polished Lipica Unito. Residents joked the elevators shot "from Karst to the clouds," because the same stone that paved their village squares now whisked them skyward. Ninety years on, the grey panels still gleam—proving the rock can swap shepherd paths for Art-Deco glamour without losing a grain of its soul.</p>
                            </div>
                            <div class="tale-image-container">
                                <div class="tale-image-actual" onclick="openFullscreen('Ljubljana Nebotičnik', 'Ljubljana\'s iconic Nebotičnik skyscraper with polished Lipica Unito lining the lift lobbies and entrance floor, blending Art Deco modernism with traditional Karst stone.', 'https://via.placeholder.com/800x600?text=Ljubljana+Nebotičnik')">
                                    <img src="media/neboticnik1.png" alt="Ljubljana Nebotičnik Architecture" class="tale-preview-image">
                                    <div class="image-overlay">
                                        <div class="placeholder-text">Ljubljana Nebotičnik Tower<br><small>Art Deco Meets Karst Stone</small></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="section-header">
                    <h2>A Stone's Ongoing Tale</h2>
                </div>
                <div class="section-content">
                    <div class="projects">
                        <div class="project">
                            <h3>Cankarjev dom Forecourt, Ljubljana (2005)</h3>
                            <div class="tale-image-container">
                                <div class="tale-image-actual" onclick="openFullscreen('Cankarjev Dom', 'Two thousand square metres of bush-hammered Lipica Unito paving the plaza outside Slovenia\'s main cultural hall, creating a textured carpet that glows under stage lights.')">
                                    <img src="media/cankarjev_dom1.png" alt="Cankarjev Dom Architecture" class="tale-preview-image">
                                    <div class="image-overlay">
                                        <div class="placeholder-text">Cultural Plaza Paving<br><small>Bush-Hammered Texture</small></div>
                                    </div>
                                </div>
                            </div>
                            <p>Two thousand square metres of bush-hammered Lipica Unito pave the plaza outside Slovenia's main cultural hall, giving theatergoers a textured, non-slip carpet of silver-grey stone that glows under stage-door lights.</p>
                        </div>
                        <div class="project">
                            <h3>Umag Seafront Promenade, Croatia (2021)</h3>
                            <div class="tale-image-container">  
                                <div class="tale-image-actual" onclick="openFullscreen('Umag Promenade', 'A 5,600 m² ribbon of honed Lipica Unito tiles lining the Adriatic waterfront, with smooth-but-grippy finish standing up to salty spray and evening strolls.')">
                                    <img src="media/umag_promenade1.png" alt="Umag Promenade Architecture" class="tale-preview-image">
                                    <div class="image-overlay">
                                        <div class="placeholder-text">Adriatic Waterfront<br><small>Honed Limestone Promenade</small></div>
                                    </div>
                                </div>
                            </div>
                            <p>A 5,600 m² ribbon of honed Lipica Unito tiles now lines the Adriatic waterfront. The smooth-but-grippy finish stands up to salty spray, bicycle tires, and evening strolls, all while mirroring the grey of distant Karst cliffs.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Lipica Unito - Where ancient seas meet modern architecture</p>
        </div>
    </footer>

    <!-- Fullscreen Image Overlay -->
    <div class="fullscreen-overlay" id="fullscreenOverlay" onclick="closeFullscreen()">
        <div class="fullscreen-content" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeFullscreen()">×</button>
            <h2 id="fullscreenTitle"></h2>
            <div class="fullscreen-image-container">
                <button class="gallery-nav gallery-prev" id="galleryPrev" onclick="previousImage()">‹</button>
                <img id="fullscreenImage" src="" alt="" class="fullscreen-image">
                <button class="gallery-nav gallery-next" id="galleryNext" onclick="nextImage()">›</button>
                <div class="gallery-counter" id="galleryCounter"></div>
            </div>
            <p id="fullscreenDescription" class="fullscreen-description"></p>
        </div>
    </div>

    <script>
        let currentGallery = [];
        let currentImageIndex = 0;
        
        function openFullscreen(title, description, imageSrc) {
            document.getElementById('fullscreenTitle').textContent = title;
            document.getElementById('fullscreenDescription').textContent = description;
            
            // Set up gallery based on the title
            setupGallery(title);
            
            document.getElementById('fullscreenOverlay').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function setupGallery(title) {
            // Define image galleries for each tale
            const galleries = {
                'Surface Quarry': [
                    { src: 'media/surface_quarry1.png', alt: 'Surface Quarry' },
                    { src: 'media/surface_quarry2.png', alt: 'Surface Quarry' },
                    { src: 'media/surface_quarry3.png', alt: 'Surface Quarry' },
                    { src: 'media/surface_quarry4.png', alt: 'Surface Quarry' },
                ],
                'Lipica II Underground': [
                    { src: 'media/lipica_II_1.png', alt: 'Lipica II Underground' },
                    { src: 'media/lipica_II_2.png', alt: 'Lipica II Underground' },
                    { src: 'media/lipica_II_3.png', alt: 'Lipica II Underground' },
                    { src: 'media/lipica_II_4.png', alt: 'Lipica II Underground' },
                ],
                'Imperial Stud Farm': [
                    { src: 'media/stud_farm1.png', alt: 'Imperial Stud Farm' },
                    { src: 'media/stud_farm2.png', alt: 'Imperial Stud Farm' },
                    { src: 'media/stud_farm3.png', alt: 'Imperial Stud Farm' }
                ],
                'Vienna Ringstrasse': [
                    { src: 'media/votive_church1.png', alt: 'Votiv Church' },
                    { src: 'media/votive_church2.png', alt: 'Votiv Church' },
                ],
                'Ljubljana Nebotičnik': [
                    { src: 'media/neboticnik1.png', alt: 'Ljubljana Nebotičnik Tower' },    
                    { src: 'media/neboticnik2.png', alt: 'Ljubljana Nebotičnik Tower' },
                    { src: 'media/neboticnik3.png', alt: 'Ljubljana Nebotičnik Tower' },
                ],
                'Cankarjev dom Forecourt': [
                    { src: 'media/cankarjev_dom1.png', alt: 'Cankarjev dom Forecourt' },
                ],
                'Umag Seafront Promenade': [
                    { src: 'media/umag_promenade1.png', alt: 'Umag Seafront Promenade' },
                ],
            };
            
            currentGallery = galleries[title] || [{ src: 'https://via.placeholder.com/800x600?text=' + encodeURIComponent(title), alt: title }];
            currentImageIndex = 0;
            
            updateGalleryDisplay();
        }
        
        function updateGalleryDisplay() {
            const imageElement = document.getElementById('fullscreenImage');
            const counterElement = document.getElementById('galleryCounter');
            const prevButton = document.getElementById('galleryPrev');
            const nextButton = document.getElementById('galleryNext');
            
            // Update image
            imageElement.src = currentGallery[currentImageIndex].src;
            imageElement.alt = currentGallery[currentImageIndex].alt;
            
            // Update counter
            if (currentGallery.length > 1) {
                counterElement.textContent = `${currentImageIndex + 1} / ${currentGallery.length}`;
                counterElement.style.display = 'block';
                prevButton.style.display = 'flex';
                nextButton.style.display = 'flex';
            } else {
                counterElement.style.display = 'none';
                prevButton.style.display = 'none';
                nextButton.style.display = 'none';
            }
        }
        
        function previousImage() {
            if (currentGallery.length > 1) {
                currentImageIndex = (currentImageIndex - 1 + currentGallery.length) % currentGallery.length;
                updateGalleryDisplay();
            }
        }
        
        function nextImage() {
            if (currentGallery.length > 1) {
                currentImageIndex = (currentImageIndex + 1) % currentGallery.length;
                updateGalleryDisplay();
            }
        }

        function closeFullscreen() {
            document.getElementById('fullscreenOverlay').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeFullscreen();
            }
        });

        // Smooth scrolling for better UX
        document.documentElement.style.scrollBehavior = 'smooth';
        
        // Add viewport height fix for mobile browsers
        function setMobileHeight() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        // Set initial height and update on resize
        window.addEventListener('resize', setMobileHeight);
        window.addEventListener('orientationchange', setMobileHeight);
        setMobileHeight();
    </script>
</body>
</html>